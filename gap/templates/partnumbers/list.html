{% extends "index.html" %}
{% block title %}GAP - Lista Codici{% endblock %}
{% block content %}
<div class="col-xs-12 col-md-10 col-md-offset-1">
<h3>Gestione passaggio sottoassiemi e componenti in area prelievo</h3>
<hr>
<a class="btn btn-default pull-right" href="{% url 'partnumber_create' %}" role="button">
    Aggiungi
    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
</a>
{% if partnumbers_list %}
    <span class="step-links">
        <div class="btn-group" role="group" aria-label="...">
        {% if page_obj.has_previous %}
            <a class="btn btn-default" href="?page=1">
                <span class="glyphicon glyphicon-fast-backward" aria-hidden="true"></span>
            </a>
            <a class="btn btn-default" href="?page={{ page_obj.previous_page_number }}">
                <span class="glyphicon glyphicon-triangle-left" aria-hidden="true"></span>
            </a>
        {% endif %}
        {% if page_obj.has_next %}
            <a class="btn btn-default" href="?page={{ page_obj.next_page_number }}">
                <span class="glyphicon glyphicon-triangle-right" aria-hidden="true"></span>
            </a>
            <a class="btn btn-default" href="?page={{ page_obj.paginator.num_pages }}">
                <span class="glyphicon glyphicon-fast-forward" aria-hidden="true"></span>
            </a>
        {% endif %}
        </div>
    </span>
<hr>
<div class="table-responsive">
    <table class="table table-striped table-hover table-bordered">
        <caption>Lista Codici</caption>
        <thead>
            <tr>
                <th>#</th>
                <th>Codice</th>
                <th>Descrizione</th>
                <th>Unit√† stock</th>
                <th>P.M.U. (g)</th>
                <th>Data creazione</th>
                <th>Data modifica</th>
            </tr>
        </thead>
        <tbody>
        {% for p in partnumbers_list %}
            <tr>
                <td>{% if p.db_nr >= 0%}{{ p.db_nr }}{% endif %}</td>
                <td>{{ p.sku }}
                    <a class="btn btn-default btn-xs pull-right" href="{% url 'partnumber_detail' p.id %}">
                        <span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span>
                    </a>
                {% if user.is_staff %}
                    <a class="btn btn-default btn-xs pull-right" href="{% url 'partnumber_update' p.id %}" role="button">
                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a>
                {% endif %}
                </td>
                <td>{{ p.description }}</td>
                <td>{{ p.get_unit_display }}</td>
                <td>{% if p.pmu %}{{ p.pmu }}{% endif %}</td>
                <td>{{ p.created|date }}</td>            
                <td>{{ p.modified|date }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
{% else %}
<p>Nessun codice presente.</p>
{% endif %}
    <div class="well well-sm">
        Pagina {{ page_obj.number }} di {{ page_obj.paginator.num_pages }}.
    </div>
</div>
{% endblock %}
